# 2023/7/17 日報
## 取り組んだ課題一覧
- プロを目指す人のためのRuby入門 第6章、第7章、第8章

## わかったこと
### 正規表現について
- `?<name>`
  名前をつけてキャプチャの結果を取得できるメタ文字
- `$数字`
  ○番目のキャプチャを取得する組み込み変数
- scanメソッド
  引数に渡した正規表現にマッチする部分を配列に入れて返すメソッド
- `[]`,sliceメソッド
  文字列から正規表現にマッチした部分を抜き出す
- splitメソッド
  マッチした文字列を区切り文字にして文字列を分解し、配列として返すメソッド
- gsubメソッド
  第１引数の正規表現にマッチした文字列を第２引数の文字列で置換するメソッド
  キャプチャと組み合わせる場合、第２引数に文字列で指定する方法と、ブロックと組み込み変数を使う方法の２種類がある(公式リファレンスではブロックを使う方法を推奨)
  - 名前付きキャプチャを使う場合、文字れるで指定する方法では`\k<name>`を、ブロックを使う方法では`$~[:name]`のようにして参照する
- `\w`
  `[A-Za-z0-9_]`と同じ意味のメタ文字
### クラスについて
- クラス
  一種のデータ型であり、オブジェクトの設計図と呼ばれたりする。
- オブジェクト
  クラスをもとにして作られたデータのかたまり
  場合によってインスタンスと呼ばれる
- レシーバ
  「メソッドを呼び出された側」と言うニュアンスで使われる表現
- メッセージ
  「レシーバに対して○○と言うメッセージを送っている」のような使われ方をする
- 状態(ステート)
  オブジェクトごとに保持されるデータのこと
- 属性(アトリビュート、プロパティ)
  オブジェクトから所得(もしくはオブジェクトに設定)できる値のこと
- initializeメソッド
  インスタンスを初期化するために実行したい処理があるときに使うメソッド
  initializeメソッドに引数をつけると、newメソッドを呼ぶときにも引数が必要になる
- インスタンスメソッド
  クラス内部で定義されたメソッド
  そのクラスのインスタンスに対して呼び出すことができる
- インスタンス変数
  同じインスタンスの内部で共有される変数
  @で始まる
- ゲッターメソッド
  `user.name`のように値を読み出すメソッドのこと
- セッターメソッド
  `name=メソッド`のように値を書き込むメソッド
- アクセサメソッド
  ゲッターメソッドとセッターメソッドの総称
  `attr_accessor`というメソッドでインスタンス変数の内容を外部から読み書きできる
- attr_readerメソッド
  インスタンス変数の内容を読み取り専用にするメソッド
- attr_writerメソッド
  インスタンス変数の内容を書き込み専用にするメソッド
- クラスメソッド
  クラス名を使ってメソッドを参照する方法
  クラスに関連は深いものの、一つ一つのインスタンスに含まれるデータは使わないメソッドを定義したい場合に使う
  定義するときは`self.メソッド名`のようにメソッド名の前にself.をつける
  呼び出すときは`クラス名.メソッド名`のようにメソッドの前にselfではなく、クラス名をつける
- 定数を定義するときは大文字、数字、_で構成されることが多い
- クラスの継承に関し、スーパークラスが親、サブクラスが子の関係
- サブクラスにて`super`を使うことでスーパークラスの処理を呼び出すことができる
- メソッドのオーバーライド
  サブクラスでスーパークラスと同名のメソッドを定義することで、処理の上書きができる
- publicメソッド
  クラスの外部からでも自由に呼び出せるメソッド
  initializeメソッド以外のメソッドはデフォルトでpublicメソッドとなる
- privateメソッド
  クラスの外からは呼び出せず、クラスの内部のみで使えるメソッド(レシーバがselfに限定されるメソッド)
  クラスメソッドをprivateにしたい場合は`class << self`の構文を使う
- protectedメソッド
  protectedメソッドを定義したクラス自身と、サブクラスのインスタンスメソッドからレシーバ付きで呼び出せるメソッド
- クラスの外部から定数を参照する場合は`クラス名::定数名`の構文を使う
- クラスインスタンス変数
  インスタンスの作成とは無関係に、クラス自身が保持しているデータ(クラス自身のインスタンス変数)
  クラスの継承をしている場合、インスタンス変数は同じ変数名であれば、スーパークラスとサブクラスで同一のインスタンス変数が参照されるが、クラスインスタンス変数は同じ変数名であっても、異なる変数として参照される。
- クラス変数
  クラス内で作成されたすべてのインスタンスで共有される変数
  `@@変数名`で表す
- グローバル変数
  クラスの内部、外部問わず、プログラムのどこからでも代入、参照できる変数
  `$変数名`で表す
  特別な理由がない限り、使用は避けるべき
### モジュールについて
- モジュールは以下の用途で使用される
  - 継承を使わずにクラスに機能を追加する。もしくは上書きする(ミックスイン)
  - 複数のクラスに対して共通の特異メソッド(クラスメソッド)を追加する
  - クラス名や定数名の衝突を防ぐために名前空間を作る
  - 関数的メソッドを定義する
  - シングルトンオブジェクトのように扱って設定値などを保持する
- モジュールをクラスにincludeまたはextendして機能を追加することをミックスインという
  - インスタンスメソッドとして機能を追加する場合はinclude、クラスメソッドとして機能を追加する場合はextendを使う
- モジュール構文の中にクラス定義を書くと、「そのモジュールに属するクラス」という意味になるため、同名のクラス名があってもモジュール名が異なっていれば名前の衝突は起こらない
  - モジュールに属するクラスを参照する際は`モジュール名::クラス名`で表す
- モジュール自身に特異メソッドを定義することで、`モジュール名.メソッド名`でそのメソッドを呼び出せる
  - モジュールはクラスと違いインスタンスを作れないため、「単なるメソッドの集まり」を作成したい場合に向いている
- モジュール関数
  ミックスインとしてもモジュールの特異メソッドとしても使えるメソッド
  モジュール内(対象のメソッドの定義より下)で`module_function :メソッド名`を呼び出すことでモジュール関数を使える
  - 引数なしで`module_function`を呼び出した場合、そこから下に定義されたメソッドがすべてモジュール関数になる
  - `module_function`でモジュール関数となったメソッドは他のクラスにミックスインするとprivateメソッドになる
- 「唯一、1つだけ」のオブジェクトを作る手法のことをシングルトンパターンという
- includeではなく、prependを使ってモジュールをミックスインすると、同名のメソッドがあったときに、ミックスインしたクラスよりも先にモジュールのメソッドが呼び出される
  
## 次やること
- プロを目指す人のためのRuby入門 第9章

## 感じたこと
- クラスの内容では変数やメソッドの曖昧な認識であったものをしっかり理解することができた。
- クラス、モジュールともにかなりボリュームがあったので、今後の課題で詰まったときに読み返して復習する。
  
## 学習時間
- 今日：11h
- 累計：330h
