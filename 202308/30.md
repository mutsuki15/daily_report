# 2023/8/29 日報
## 取り組んだ課題一覧
- スッキリわかるSQL入門 第9章、第10章

## わかったこと
- トランザクション
  1つ以上のSQL文のかたまり
  トランザクションに指定した文は「全ての実行が完了している」か、「１つも実行されていない」かのどちらかの状態となる
- コミット
  トランザクションの処理(仮の書き換え)の全てを確定させること
- ロールバック
  異常が発生した場合にトランザクションの処理(仮の書き換え)をキャンセルすること
- トランザクションは同時実行中の他のトランザクションからの家教を受けないよう分離して実行される
- 同時実行による代表的な副作用
  - ダーティーリード
    まだコミットしていない未確定の変更を他の人が読めてしまう副作用
  - 反復不能読み取り
    あるテーブルに対してSELECT文を実行した後、他の人がUPDATE文でデータを書き換えると次にSELECTした際に検索結果が異なる副作用
  - ファントムリード
    2回のSELECT文の間に他に人がINSERT文で行を追加すると最初と次のSELECTで取得する行数の結果が変わる副作用
- 行や表、データベース全体に明示的にロックをかけることができる
- デッドロック
  トランザクションの処理が永久に止まること
  複数の対象に異なる順番でロックをかけようとする複数のトランザクションはデッドロックとなる可能性があるため注意する
- DML(データ操作言語)
  データの格納、取り出し、更新、削除などの命令
- TCL(トランザクション制御言語)
  トランザクションの開始や終了の命令
- DDL(データ定義言語)
  テーブルなどの作成、削除、各種設定などの命令
- DCL(データ制御言語)
  DMLやDDLの利用に関する書架や禁止を設定する命令
- CREATE TABLE
  テーブルの作成をする
- DROP TABLE
  テーブルの削除をする
- ALTER TABLE
  テーブルの定義を変更する
- テーブル作成時に予期しない値が格納されないよう制約を設定できる
  - NOT NULL
    NULLの格納を防ぐ
  - UNIQUE
    重複した値の格納を防ぐ
  - CHECK
    格納しようとする値の妥当性をチェックする
  - PRIMARY KEY
    主キーとしての役割を担う列に設定する制約
- 参照整合性
  外部キーが指し示す先にあるべき行が存在し、リレーションシップが成立していること
  データベース設計において参照生合成の崩壊は絶対に避けなければならない
   
## 次やること
- スッキリわかるSQL入門 第11章

## 感じたこと
- 「SQL文がデータベースにデータを出し入れするDML、TCLとデータの多仕入れを効率よく安全にできるようにするデーブルの準備や各種設定をするDDL、DCLに分けられる」のはわかりやすい表現だと感じた。
  
## 学習時間
- 今日：2h
- 累計：399h
