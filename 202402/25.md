# 2024/02/25日報
## 取り組んだ課題一覧
- はじめてのソフトウェアテスト技法を見る
- Everyday Rails - RSpecによるRailsテスト入門を読む

## わかったこと
- ソフトウェアテスト技法について
  - ソフトウェアテストとは
    - ソフトウェアテストとは開発者の意図した通りにプログラムが動くのかをテストケースを用いて検証し、期待通りに動かない箇所を減らすプロセス
    - 同値クラステスト
      - テスト的に同じ意味になる値をテストする技法
    - 境界値テスト
      - 同値クラスの境界とその前後の値をテストする技法
  - ソフトウェアテストの基礎知識
    - ソフトウェアテストで重要な概念は「網羅性」と「ピンポイント」
      - 網羅性はテストの抜け漏れをなるべくなくす
      - ピンポイントは怪しいところを入念に調べる
    - テストの設計アプローチには「契約によるテスト」と「防御的テスト」がある
      - 契約によるテストは事前条件の範囲だけで行うテストアプローチ
      - 防御的テストは事前条件の範囲外もテストを行うアプローチ
      - 上記のどちらのアプローチでテストするかを明確にした上でテストすることは重要
  - 同値クラスと境界値テスト
    - テストを行う際には欠陥の検出は1つずつ行う(欠陥は他の欠陥を隠してしますため)
  - ドメイン分析テストとデシジョンテーブル
    - ドメイン分析テスト
      - 条件同士が相互作用を持つような場合(複数の条件が数式で結ばれている場合)に有効なテスト技法
    - デシジョンテーブル
      - 条件同士は独立していて、込み入った論理関係を整理する場合(複数の条件がANDやORの論理式で結ばれている場合)に有効なテスト技法
    - ドメイン分析テストは以下4つのポイントを確認することが重要
      - on
        - 境界上の値
      - off
        - 境界上にはない教会に隣接する値
      - in
        - on/off以外のドメイン内側の値
      - out
        - on/off以外のドメイン外側の値
  - ペア構成テスト
    - ペア構成テスト
      - 全ての条件の全ての組み合わせをテストするのではなく、条件の全てのペアをテストする技法
    - 直交表
      - 全てのペアを抜け漏れなく網羅する方法の一つ
      - 直交表の使い方
        1. 条件を全て洗い出す
        2. 各条件が取りうる値の数を求める
        3. 1.2.の条件に合う直交表を選ぶ。完全一致がないなら少し大きめを選ぶ
        4. 直交表にテスト対象の条件を当てはめる
  - 状態遷移テスト
    - 状態遷移図
      - 状態遷移の全体感を把握できる図
      - N/Aも含めて抜け漏れなくテストケースを見出すには向いてない
    - N/A(Not Applicable)
      - ある状態でイベントが適用不可となること
    - 状態遷移表
      - 状態遷移をN/Aを含め網羅的に把握できる表
  - カバレッジ
    - ブラックボックステスト
      - ソフトウェアのコード内部のロジックを考慮せず、外部から見た時の仕様のみからテストケースを作成する
    - ホワイトボックステスト
      - コード内部のロジックを考慮してテストケースを作成する
    - ホワイトボックステストは、データフローテストと制御フローテストに分類される
      - データフローテスト
        - それぞれの変数において「生成→使用→廃棄」というサイクルを確認するテスト
      - 制御フローテスト
        - コード中の処理がどれだけ実行されたかを基準に行うテスト
    - カバレッジ
      - テスト可能なコードのうち、実際にテストされたコードの割合のこと
      - テストの網羅性の高さ(カバレッジレベル)ごとにいくつかの求め方が存在している
      - ステートメントカバレッジ
        - 実行可能な行のうち何行を実行したか、で求められるカバレッジレベル
        - C0とも表記される
      - デシジョンカバレッジ
        - 判定の分岐をどれだけ網羅したか、で求められるカバレッジレベル
        - C1とも表記される
      - コンディションカバレッジ
        - 判定の中の条件式の審議をどれだけ網羅したか、で求められるカバレッジレベル
        - C2とも表記される
      - 複合コンディションカバレッジ
        - 条件式の審議の組み合わせをどれだけ網羅したか、で求められるカバレッジレベル
        - MCCとも表記される
      - MC/DCカバレッジ
        - 複合コンディションカバレッジを改良して必要なテストケースの数を削減したカバレッジレベル
      - カバレッジの特徴
        - カバレッジが高いからといって、品質を保証できているとは限らない
        - カバレッジを100%に近づけるほど、バグ検出の費用対効果が下がる
        - カバレッジの数値がテストの目的にすり替わりがち
      - カバレッジの活用方法
        - テストケースはカバレッジではなく、テスト技法の考え方を元に作成する
          - テスト技法を用いてテストケースを設計→そのテストケースを実行してカバレッジを計算→低いならピンポイントの観点でテストケースを追加する
        - 100%のカバレッジを目指さず、85%程度のカバレッジを努力目標にする
  - テストの目的を常に意識する
    - ソフトウェアテストは少しでも多くのバグを発見して、ソフトウェアの品質を向上させるものであり、テスト技法はなるべく少ないテストケースでなるべく多くのバグを発見するための技術であることを忘れない
  - 品質の向上すら手段である
    - 品質の向上が目的になってもいけない。品質の向上は、ソフトウェアでビジネスを成功させるための手段。
    - 常にテストを行うそもそもの目的を意識する
- RSpecを使ったモデルのテスト方法について
- Factory Botを使ったテストデータの作成について
- RSpecを使ったコントローラのテスト方法について
- 
## 次やること
- 自動テスト
  - Everyday Rails - RSpecによるRailsテスト入門を読む

## 感じたこと
- ソフトウェアテストを実施する重要性を理解した。また、カバレッジの数値を高くすることがテストの目的ではないということも忘れないようにしたい。

## 学習時間
- 今日：8h
- 累計：713h
